/*! jQuery UI - v1.9.2 - 2021-08-26
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed MIT */

!function(u){u.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,t=e.accept;this.isover=0,this.isout=1,this.accept=u.isFunction(t)?t:function(e){return e.is(t)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},u.ui.ddmanager.droppables[e.scope]=u.ui.ddmanager.droppables[e.scope]||[],u.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=u.ui.ddmanager.droppables[this.options.scope],t=0;t<e.length;t++)e[t]==this&&e.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,t){"accept"==e&&(this.accept=u.isFunction(t)?t:function(e){return e.is(t)}),u.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var t=u.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=u.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=u.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!=this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=u.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!=this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(e,t){var i=t||u.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return!1;var s=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=u.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&u.ui.intersect(i,u.extend(e,{offset:e.element.offset()}),e.options.tolerance))return!(s=!0)}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),u.ui.intersect=function(e,t,i){if(!t.offset)return!1;var s=(e.positionAbs||e.position.absolute).left,o=s+e.helperProportions.width,r=(e.positionAbs||e.position.absolute).top,n=r+e.helperProportions.height,a=t.offset.left,l=a+t.proportions.width,p=t.offset.top,h=p+t.proportions.height;switch(i){case"fit":return a<=s&&o<=l&&p<=r&&n<=h;case"intersect":return a<s+e.helperProportions.width/2&&o-e.helperProportions.width/2<l&&p<r+e.helperProportions.height/2&&n-e.helperProportions.height/2<h;case"pointer":var c=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,d=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return u.ui.isOver(d,c,p,a,t.proportions.height,t.proportions.width);case"touch":return(p<=r&&r<=h||p<=n&&n<=h||r<p&&h<n)&&(a<=s&&s<=l||a<=o&&o<=l||s<a&&l<o);default:return!1}},u.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var i=u.ui.ddmanager.droppables[e.options.scope]||[],s=t?t.type:null,o=(e.currentItem||e.element).find(":data(droppable)").andSelf();e:for(var r=0;r<i.length;r++)if(!(i[r].options.disabled||e&&!i[r].accept.call(i[r].element[0],e.currentItem||e.element))){for(var n=0;n<o.length;n++)if(o[n]==i[r].element[0]){i[r].proportions.height=0;continue e}i[r].visible="none"!=i[r].element.css("display"),i[r].visible&&("mousedown"==s&&i[r]._activate.call(i[r],t),i[r].offset=i[r].element.offset(),i[r].proportions={width:i[r].element[0].offsetWidth,height:i[r].element[0].offsetHeight})}},drop:function(e,t){var i=!1;return u.each(u.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&u.ui.intersect(e,this,this.options.tolerance)&&(i=this._drop.call(this,t)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,t)))}),i},dragStart:function(e,t){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||u.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,r){o.options.refreshPositions&&u.ui.ddmanager.prepareOffsets(o,r),u.each(u.ui.ddmanager.droppables[o.options.scope]||[],function(){var e,t,i,s;this.options.disabled||this.greedyChild||!this.visible||(e=(s=u.ui.intersect(o,this,this.options.tolerance))||1!=this.isover?s&&0==this.isover?"isover":null:"isout")&&(this.options.greedy&&(i=this.options.scope,(s=this.element.parents(":data(droppable)").filter(function(){return u.data(this,"droppable").options.scope===i})).length&&((t=u.data(s[0],"droppable")).greedyChild="isover"==e?1:0)),t&&"isover"==e&&(t.isover=0,t.isout=1,t._out.call(t,r)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,r),t&&"isout"==e&&(t.isout=0,t.isover=1,t._over.call(t,r)))})},dragStop:function(e,t){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||u.ui.ddmanager.prepareOffsets(e,t)}}}(jQuery);